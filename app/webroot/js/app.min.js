"use strict";angular.module("myApp",["ngAnimate","ngSanitize","ngRoute","angular-loading-bar","ui.bootstrap","app.controllers","app.factories"]).config(["$routeProvider","cfpLoadingBarProvider","$locationProvider",function(e,n,t){n.includeSpinner=!1,e.when("/",{controller:"searchListCtrl",templateUrl:"modules/search/views/search_list.html"}).when("/new",{controller:"searchCtrl",templateUrl:"modules/search/views/search.html"}).otherwise({redirectTo:"/"})}]),angular.module("app.controllers",[]),angular.module("app.factories",[]),angular.module("app.factories").factory("RestSvr",["$http",function(e){function n(e){return e+".json"}return{get:function(t,r){var a=angular.isUndefined(r)?null:r;return e.get(n(t),a).then(function(e){return{records:e.data.records}})},paginate:function(t,r){var a=angular.isUndefined(r)?1:"?page="+r;return e.get(n(t)+a).then(function(e){return{records:e.data.records,paging:e.data.paging}})},search:function(t,r){return e.post(n(t),r).then(function(e){return{records:e.data.records,paging:e.data.paging}})},post:function(t,r,a){return e.post(n(t),r,a).then(function(e){return{type:e.data}})},put:function(t){return e.put(n(t.apiUrl+t.id),t.data).then(function(e){return{type:e.data.message.type,text:e.data.message.text}})},delete:function(t){return e.delete(n(t.apiUrl+t.id)).then(function(e){return{type:e.data.message.type,text:e.data.message.text}})}}}]),function(){angular.module("app.controllers").controller("searchCtrl",["$scope","RestSvr","$location","$routeParams",function(e,n,t,r){function a(t){var r={q:t,page:e.paging.page};n.search("search/find",r).then(function(n){e.results=n.records,e.paging=n.paging})}e.forceEllipses=!0,e.maxSize=10,e.paging={page:1},e.max=500,angular.isUndefined(r.single)||(e.single=r.single,a(r.single)),e.singleSearch=function(n){if(n){var r=e.single;t.search("single",r)}},e.pageChanged=function(){a(r.single)}}])}(),angular.module("app.controllers").controller("searchListCtrl",["$scope","RestSvr","$location","$routeParams",function(e,n,t,r){function a(){n.paginate("search",e.paging.page).then(function(n){e.results=n.records,e.paging=n.paging})}e.forceEllipses=!0,e.maxSize=10,e.paging={page:1},a()}]);